schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 6b62bd9f6a6c5217f8b1e5fc5db067d9
      size: 564
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 48111a9f94685dbe4a4ad1a0ea0b7c63
      size: 882
    outs:
    - path: artifacts/data_ingestion/Chest-Disease-CT -Scan-Data-1
      hash: md5
      md5: e1fce000de965bf8322bd2afa5a291d7.dir
      size: 1346005746
      nfiles: 14888
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 6b62bd9f6a6c5217f8b1e5fc5db067d9
      size: 564
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 30c63470719d961e32045908b7c0772d
      size: 966
    params:
      params.yaml:
        CLASSES: 5
        IMAGE_SIZE:
        - 350
        - 350
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.001
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 2968ebedd639a8923dfc3ec9fb66d8c2.dir
      size: 33751216
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_trainer.py
    deps:
    - path: artifacts/data_ingestion/Chest-Disease-CT -Scan-Data-1
      hash: md5
      md5: e1fce000de965bf8322bd2afa5a291d7.dir
      size: 1346005746
      nfiles: 14888
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 2968ebedd639a8923dfc3ec9fb66d8c2.dir
      size: 33751216
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 6b62bd9f6a6c5217f8b1e5fc5db067d9
      size: 564
    - path: src/cnnClassifier/pipeline/stage_03_model_trainer.py
      hash: md5
      md5: 09a4cb3ae15b3e2d1660f45bfd4404e4
      size: 892
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 5
        EPOCHS: 0
        IMAGE_SIZE:
        - 350
        - 350
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 253d05cd22bfd7638f210f3c7fbee7dc
      size: 16891472
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Chest-Disease-CT -Scan-Data-1
      hash: md5
      md5: e1fce000de965bf8322bd2afa5a291d7.dir
      size: 1346005746
      nfiles: 14888
    - path: artifacts/training/model.h5
      hash: md5
      md5: 253d05cd22bfd7638f210f3c7fbee7dc
      size: 16891472
    - path: config/config.yaml
      hash: md5
      md5: 6b62bd9f6a6c5217f8b1e5fc5db067d9
      size: 564
    - path: src/cnnClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: e7405515670a79c9ed739630f9a6f1da
      size: 904
    params:
      params.yaml:
        BATCH_SIZE: 5
        IMAGE_SIZE:
        - 350
        - 350
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 22c2f9b1b123916fc67a4cb384198744
      size: 71
